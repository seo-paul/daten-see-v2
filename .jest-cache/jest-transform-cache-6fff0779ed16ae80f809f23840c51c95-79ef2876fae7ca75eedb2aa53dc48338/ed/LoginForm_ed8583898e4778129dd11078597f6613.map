{"version":3,"names":["LoginForm","onSuccess","className","cov_12xeikqifz","b","f","error","authError","clearError","s","_AuthContext","useAuth","formData","setFormData","_react","useState","email","password","showPassword","setShowPassword","loginMutation","_useAuthMutations","useMockLoginMutation","handleSubmit","e","preventDefault","mutateAsync","handleInputChange","field","prev","target","value","isLoading","isPending","message","_jsxruntime","jsx","jsxs","_lucidereact","LogIn","onSubmit","htmlFor","id","type","required","onChange","disabled","placeholder","onClick","EyeOff","Eye","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","process","env","NODE_ENV"],"sources":["/Users/zweigen/Sites/daten-see-v2/src/components/auth/LoginForm.tsx"],"sourcesContent":["'use client';\n\nimport { Eye, EyeOff, LogIn } from 'lucide-react';\nimport { useState } from 'react';\n\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useMockLoginMutation } from '@/hooks/auth/useAuthMutations';\n\ninterface LoginFormProps {\n  onSuccess?: () => void;\n  className?: string;\n}\n\n/**\n * Login Form Component\n * Demonstrates authentication with Context + TanStack Query\n */\nexport function LoginForm({ onSuccess, className = '' }: LoginFormProps): React.ReactElement {\n  const { error: authError, clearError } = useAuth();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n  });\n  const [showPassword, setShowPassword] = useState(false);\n\n  // Use mock login mutation for development\n  const loginMutation = useMockLoginMutation();\n\n  const handleSubmit = async (e: React.FormEvent): Promise<void> => {\n    e.preventDefault();\n    \n    // Clear any existing errors\n    clearError();\n\n    if (!formData.email || !formData.password) {\n      return;\n    }\n\n    try {\n      await loginMutation.mutateAsync({\n        email: formData.email,\n        password: formData.password,\n      });\n\n      // Call success callback\n      onSuccess?.();\n    } catch {\n      // Error is already handled by the mutation's onError\n      // Silently handle as error is already logged\n    }\n  };\n\n  const handleInputChange = (field: 'email' | 'password') => \n    (e: React.ChangeEvent<HTMLInputElement>): void => {\n      setFormData(prev => ({\n        ...prev,\n        [field]: e.target.value,\n      }));\n    };\n\n  const isLoading = loginMutation.isPending;\n  const error = authError || (loginMutation.error ? loginMutation.error.message : null);\n\n  return (\n    <div className={`max-w-md mx-auto px-4 sm:px-0 ${className}`}>\n      <div className=\"bg-[#FDF9F3] rounded-lg shadow-md p-4 sm:p-6\">\n        <div className=\"text-center mb-6\">\n          <LogIn className=\"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-[#2F4F73] mb-3\" />\n          <h2 className=\"text-xl sm:text-2xl font-bold text-[#3d3d3d]\">Anmeldung</h2>\n          <p className=\"text-sm sm:text-base text-[#3d3d3d]/70 mt-2\">Zugriff auf Ihr Dashboard</p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {/* Email Field */}\n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-[#3d3d3d] mb-1\">\n              E-Mail\n            </label>\n            <input\n              id=\"email\"\n              type=\"email\"\n              required\n              value={formData.email}\n              onChange={handleInputChange('email')}\n              disabled={isLoading}\n              className=\"w-full px-3 py-2.5 sm:py-2 text-base sm:text-sm border border-[#E6D7B8] rounded-md shadow-sm placeholder-[#3d3d3d]/50 focus:outline-none focus:ring-[#2F4F73] focus:border-[#2F4F73] disabled:bg-[#F6F0E0] disabled:cursor-not-allowed\"\n              placeholder=\"Ihre E-Mail eingeben\"\n            />\n          </div>\n\n          {/* Password Field */}\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-[#3d3d3d] mb-1\">\n              Passwort\n            </label>\n            <div className=\"relative\">\n              <input\n                id=\"password\"\n                type={showPassword ? 'text' : 'password'}\n                required\n                value={formData.password}\n                onChange={handleInputChange('password')}\n                disabled={isLoading}\n                className=\"w-full px-3 py-2.5 sm:py-2 pr-10 text-base sm:text-sm border border-[#E6D7B8] rounded-md shadow-sm placeholder-[#3d3d3d]/50 focus:outline-none focus:ring-[#2F4F73] focus:border-[#2F4F73] disabled:bg-[#F6F0E0] disabled:cursor-not-allowed\"\n                placeholder=\"Ihr Passwort eingeben\"\n              />\n              <button\n                type=\"button\"\n                onClick={() => setShowPassword(!showPassword)}\n                disabled={isLoading}\n                className=\"absolute inset-y-0 right-0 pr-3 flex items-center disabled:cursor-not-allowed\"\n              >\n                {showPassword ? (\n                  <EyeOff className=\"h-4 w-4 text-[#3d3d3d]/50\" />\n                ) : (\n                  <Eye className=\"h-4 w-4 text-[#3d3d3d]/50\" />\n                )}\n              </button>\n            </div>\n          </div>\n\n          {/* Error Message */}\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 rounded-md p-3\">\n              <p className=\"text-sm text-red-600\">{error}</p>\n            </div>\n          )}\n\n          {/* Submit Button */}\n          <button\n            type=\"submit\"\n            disabled={isLoading || !formData.email || !formData.password}\n            className=\"w-full flex justify-center py-3 sm:py-2 px-4 border border-transparent rounded-md shadow-sm text-base sm:text-sm font-medium text-white bg-[#2F4F73] hover:bg-[#365C83] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2F4F73] disabled:bg-[#3d3d3d]/40 disabled:cursor-not-allowed touch-manipulation\"\n          >\n            {isLoading ? (\n              <span className=\"flex items-center\">\n                <svg className=\"animate-spin -ml-1 mr-3 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 818-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Anmeldung l√§uft...\n              </span>\n            ) : (\n              'Anmelden'\n            )}\n          </button>\n        </form>\n\n        {/* Development Note */}\n        {process.env.NODE_ENV === 'development' && (\n          <div className=\"mt-6 p-3 bg-[#FBF5ED] border border-[#E6D7B8] rounded-md\">\n            <p className=\"text-xs sm:text-xs leading-relaxed text-[#2F4F73]\">\n              <strong>Development Mode:</strong> Any email/password will work. \n              Use &quot;error@test.com&quot; to test error handling.\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}