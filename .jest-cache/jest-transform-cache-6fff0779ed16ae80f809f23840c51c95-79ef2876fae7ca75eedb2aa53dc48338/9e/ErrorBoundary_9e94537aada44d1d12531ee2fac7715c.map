{"version":3,"names":["cov_2lsmovy68h","actualCoverage","s","ErrorBoundary","_react","Component","constructor","props","f","handleRetry","setState","hasError","error","state","getDerivedStateFromError","componentDidCatch","errorInfo","process","env","NODE_ENV","b","console","_nextjs","captureException","contexts","errorBoundary","componentStack","render","_jsxruntime","jsx","className","jsxs","onClick","type","stack","children"],"sources":["/Users/zweigen/Sites/daten-see-v2/src/components/ErrorBoundary.tsx"],"sourcesContent":["'use client';\n\nimport { captureException } from '@sentry/nextjs';\nimport { Component, ErrorInfo, ReactNode } from 'react';\n\ninterface Props {\n  children: ReactNode;\n  className?: string;\n}\n\ninterface State {\n  hasError: boolean;\n  error?: Error | null;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return {\n      hasError: true,\n      error,\n    };\n  }\n\n  override componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\n    // Error is already sent to Sentry, no need for console.error in production\n    if (process.env.NODE_ENV === 'development') {\n      // eslint-disable-next-line no-console\n      console.error('ErrorBoundary caught an error:', error, errorInfo);\n    }\n    captureException(error, {\n      contexts: {\n        errorBoundary: {\n          componentStack: errorInfo.componentStack,\n        },\n      },\n    });\n  }\n\n  handleRetry = (): void => {\n    this.setState({ hasError: false, error: null });\n  };\n\n  override render(): ReactNode {\n    if (this.state.hasError) {\n      return (\n        <div className={`error-boundary ${this.props.className || ''}`}>\n          <div className=\"min-h-screen flex items-center justify-center bg-[#FEFCF9]\">\n            <div className=\"max-w-md w-full bg-[#FDF9F3] shadow-lg rounded-lg p-6 border border-[#E6D7B8]\">\n              <div className=\"text-center\">\n                <div className=\"text-6xl mb-4\">⚠️</div>\n                <h1 className=\"text-2xl font-bold text-[#3d3d3d] mb-2\">\n                  Something went wrong\n                </h1>\n                <p className=\"text-[#5d5d5d] mb-6\">\n                  We apologize for the inconvenience. Please try refreshing the page.\n                </p>\n                \n                <button\n                  onClick={this.handleRetry}\n                  className=\"bg-[#2F4F73] hover:bg-[#365C83] text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n                  type=\"button\"\n                >\n                  Try Again\n                </button>\n\n                {process.env.NODE_ENV === 'development' && this.state.error && (\n                  <details className=\"mt-6 text-left\">\n                    <summary className=\"text-[#3d3d3d] font-semibold cursor-pointer\">\n                      Error Details (Development)\n                    </summary>\n                    <pre className=\"mt-2 text-xs text-red-600 bg-red-50 p-3 rounded border border-red-200 overflow-auto max-h-64\">\n                      {this.state.error.stack}\n                    </pre>\n                  </details>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}"],"mappings":"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","ignoreList":[]}