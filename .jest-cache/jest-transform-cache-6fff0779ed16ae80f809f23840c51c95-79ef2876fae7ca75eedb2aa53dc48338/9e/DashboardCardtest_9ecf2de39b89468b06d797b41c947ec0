6999362c2609316e3f97dbbf8df9936d
/**
 * DashboardCard Component Tests - Streamlined
 * Testing core dashboard card functionality only
 */ "use strict";
jest.mock('next/navigation', ()=>({
        useRouter: ()=>mockRouter
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _react1 = /*#__PURE__*/ _interop_require_default(require("react"));
const _DashboardCard = require("../DashboardCard");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock next/navigation
const mockRouter = {
    push: jest.fn()
};
const mockDashboard = {
    id: 'dashboard-1',
    name: 'Analytics Dashboard',
    description: 'Key metrics and performance indicators',
    isPublic: false,
    updatedAt: new Date('2024-01-15T10:30:00Z'),
    widgetCount: 5
};
describe('DashboardCard Component', ()=>{
    const mockOnEdit = jest.fn();
    const mockOnDelete = jest.fn();
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    it('should render dashboard information correctly', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_DashboardCard.DashboardCard, {
            dashboard: mockDashboard,
            onEdit: mockOnEdit,
            onDelete: mockOnDelete
        }));
        expect(_react.screen.getByText('Analytics Dashboard')).toBeInTheDocument();
        expect(_react.screen.getByText('Key metrics and performance indicators')).toBeInTheDocument();
        expect(_react.screen.getByText('5 Widgets')).toBeInTheDocument();
        expect(_react.screen.getByText('Privat')).toBeInTheDocument();
    });
    it('should have clickable title link', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_DashboardCard.DashboardCard, {
            dashboard: mockDashboard,
            onEdit: mockOnEdit,
            onDelete: mockOnDelete
        }));
        const titleLink = _react.screen.getByText('Analytics Dashboard').closest('a');
        expect(titleLink).toHaveAttribute('href', '/dashboard/dashboard-1');
    });
    it('should call onEdit when edit action is clicked', async ()=>{
        const user = _userevent.default.setup();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_DashboardCard.DashboardCard, {
            dashboard: mockDashboard,
            onEdit: mockOnEdit,
            onDelete: mockOnDelete
        }));
        await user.click(_react.screen.getByRole('button'));
        await user.click(_react.screen.getByText('Bearbeiten'));
        expect(mockOnEdit).toHaveBeenCalledWith(mockDashboard);
    });
    it('should call onDelete when delete action is clicked', async ()=>{
        const user = _userevent.default.setup();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_DashboardCard.DashboardCard, {
            dashboard: mockDashboard,
            onEdit: mockOnEdit,
            onDelete: mockOnDelete
        }));
        await user.click(_react.screen.getByRole('button'));
        await user.click(_react.screen.getByText('Löschen'));
        expect(mockOnDelete).toHaveBeenCalledWith(mockDashboard.id);
    });
    it('should display public status correctly', ()=>{
        const publicDashboard = {
            ...mockDashboard,
            isPublic: true
        };
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_DashboardCard.DashboardCard, {
            dashboard: publicDashboard,
            onEdit: mockOnEdit,
            onDelete: mockOnDelete
        }));
        expect(_react.screen.getByText('Öffentlich')).toBeInTheDocument();
    });
    it('should show actions menu when button is clicked', async ()=>{
        const user = _userevent.default.setup();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_DashboardCard.DashboardCard, {
            dashboard: mockDashboard,
            onEdit: mockOnEdit,
            onDelete: mockOnDelete
        }));
        await user.click(_react.screen.getByRole('button'));
        expect(_react.screen.getByText('Bearbeiten')).toBeInTheDocument();
        expect(_react.screen.getByText('Löschen')).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy96d2VpZ2VuL1NpdGVzL2RhdGVuLXNlZS12Mi9zcmMvY29tcG9uZW50cy9kYXNoYm9hcmQvX190ZXN0c19fL0Rhc2hib2FyZENhcmQudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEYXNoYm9hcmRDYXJkIENvbXBvbmVudCBUZXN0cyAtIFN0cmVhbWxpbmVkXG4gKiBUZXN0aW5nIGNvcmUgZGFzaGJvYXJkIGNhcmQgZnVuY3Rpb25hbGl0eSBvbmx5XG4gKi9cblxuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4gfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB1c2VyRXZlbnQgZnJvbSAnQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB0eXBlIHsgRGFzaGJvYXJkTGlzdEl0ZW0gfSBmcm9tICdAL3R5cGVzL2Rhc2hib2FyZC50eXBlcyc7XG5cbmltcG9ydCB7IERhc2hib2FyZENhcmQgfSBmcm9tICcuLi9EYXNoYm9hcmRDYXJkJztcblxuLy8gTW9jayBuZXh0L25hdmlnYXRpb25cbmNvbnN0IG1vY2tSb3V0ZXIgPSB7XG4gIHB1c2g6IGplc3QuZm4oKSxcbn07XG5cbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiAoKSA9PiBtb2NrUm91dGVyLFxufSkpO1xuXG5jb25zdCBtb2NrRGFzaGJvYXJkOiBEYXNoYm9hcmRMaXN0SXRlbSA9IHtcbiAgaWQ6ICdkYXNoYm9hcmQtMScsXG4gIG5hbWU6ICdBbmFseXRpY3MgRGFzaGJvYXJkJyxcbiAgZGVzY3JpcHRpb246ICdLZXkgbWV0cmljcyBhbmQgcGVyZm9ybWFuY2UgaW5kaWNhdG9ycycsXG4gIGlzUHVibGljOiBmYWxzZSxcbiAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgnMjAyNC0wMS0xNVQxMDozMDowMFonKSxcbiAgd2lkZ2V0Q291bnQ6IDUsXG59O1xuXG5kZXNjcmliZSgnRGFzaGJvYXJkQ2FyZCBDb21wb25lbnQnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tPbkVkaXQgPSBqZXN0LmZuKCk7XG4gIGNvbnN0IG1vY2tPbkRlbGV0ZSA9IGplc3QuZm4oKTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCByZW5kZXIgZGFzaGJvYXJkIGluZm9ybWF0aW9uIGNvcnJlY3RseScsICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8RGFzaGJvYXJkQ2FyZCBcbiAgICAgICAgZGFzaGJvYXJkPXttb2NrRGFzaGJvYXJkfVxuICAgICAgICBvbkVkaXQ9e21vY2tPbkVkaXR9XG4gICAgICAgIG9uRGVsZXRlPXttb2NrT25EZWxldGV9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQW5hbHl0aWNzIERhc2hib2FyZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdLZXkgbWV0cmljcyBhbmQgcGVyZm9ybWFuY2UgaW5kaWNhdG9ycycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCc1IFdpZGdldHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUHJpdmF0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGF2ZSBjbGlja2FibGUgdGl0bGUgbGluaycsICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8RGFzaGJvYXJkQ2FyZCBcbiAgICAgICAgZGFzaGJvYXJkPXttb2NrRGFzaGJvYXJkfVxuICAgICAgICBvbkVkaXQ9e21vY2tPbkVkaXR9XG4gICAgICAgIG9uRGVsZXRlPXttb2NrT25EZWxldGV9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBjb25zdCB0aXRsZUxpbmsgPSBzY3JlZW4uZ2V0QnlUZXh0KCdBbmFseXRpY3MgRGFzaGJvYXJkJykuY2xvc2VzdCgnYScpO1xuICAgIGV4cGVjdCh0aXRsZUxpbmspLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICcvZGFzaGJvYXJkL2Rhc2hib2FyZC0xJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgY2FsbCBvbkVkaXQgd2hlbiBlZGl0IGFjdGlvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICByZW5kZXIoXG4gICAgICA8RGFzaGJvYXJkQ2FyZCBcbiAgICAgICAgZGFzaGJvYXJkPXttb2NrRGFzaGJvYXJkfVxuICAgICAgICBvbkVkaXQ9e21vY2tPbkVkaXR9XG4gICAgICAgIG9uRGVsZXRlPXttb2NrT25EZWxldGV9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpKTtcbiAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0JlYXJiZWl0ZW4nKSk7XG4gICAgXG4gICAgZXhwZWN0KG1vY2tPbkVkaXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tEYXNoYm9hcmQpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGNhbGwgb25EZWxldGUgd2hlbiBkZWxldGUgYWN0aW9uIGlzIGNsaWNrZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgIHJlbmRlcihcbiAgICAgIDxEYXNoYm9hcmRDYXJkIFxuICAgICAgICBkYXNoYm9hcmQ9e21vY2tEYXNoYm9hcmR9XG4gICAgICAgIG9uRWRpdD17bW9ja09uRWRpdH1cbiAgICAgICAgb25EZWxldGU9e21vY2tPbkRlbGV0ZX1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJykpO1xuICAgIGF3YWl0IHVzZXIuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnTMO2c2NoZW4nKSk7XG4gICAgXG4gICAgZXhwZWN0KG1vY2tPbkRlbGV0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgobW9ja0Rhc2hib2FyZC5pZCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZGlzcGxheSBwdWJsaWMgc3RhdHVzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICBjb25zdCBwdWJsaWNEYXNoYm9hcmQgPSB7IC4uLm1vY2tEYXNoYm9hcmQsIGlzUHVibGljOiB0cnVlIH07XG4gICAgcmVuZGVyKFxuICAgICAgPERhc2hib2FyZENhcmQgXG4gICAgICAgIGRhc2hib2FyZD17cHVibGljRGFzaGJvYXJkfVxuICAgICAgICBvbkVkaXQ9e21vY2tPbkVkaXR9XG4gICAgICAgIG9uRGVsZXRlPXttb2NrT25EZWxldGV9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnw5ZmZmVudGxpY2gnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzaG93IGFjdGlvbnMgbWVudSB3aGVuIGJ1dHRvbiBpcyBjbGlja2VkJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICByZW5kZXIoXG4gICAgICA8RGFzaGJvYXJkQ2FyZCBcbiAgICAgICAgZGFzaGJvYXJkPXttb2NrRGFzaGJvYXJkfVxuICAgICAgICBvbkVkaXQ9e21vY2tPbkVkaXR9XG4gICAgICAgIG9uRGVsZXRlPXttb2NrT25EZWxldGV9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBhd2FpdCB1c2VyLmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicpKTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdCZWFyYmVpdGVuJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0zDtnNjaGVuJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUm91dGVyIiwibW9ja1JvdXRlciIsInB1c2giLCJmbiIsIm1vY2tEYXNoYm9hcmQiLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImlzUHVibGljIiwidXBkYXRlZEF0IiwiRGF0ZSIsIndpZGdldENvdW50IiwiZGVzY3JpYmUiLCJtb2NrT25FZGl0IiwibW9ja09uRGVsZXRlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInJlbmRlciIsIkRhc2hib2FyZENhcmQiLCJkYXNoYm9hcmQiLCJvbkVkaXQiLCJvbkRlbGV0ZSIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwidGl0bGVMaW5rIiwiY2xvc2VzdCIsInRvSGF2ZUF0dHJpYnV0ZSIsInVzZXIiLCJ1c2VyRXZlbnQiLCJzZXR1cCIsImNsaWNrIiwiZ2V0QnlSb2xlIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJwdWJsaWNEYXNoYm9hcmQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Q0FHQztBQWVEQSxLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0MsV0FBVyxJQUFNQztJQUNuQixDQUFBOzs7Ozt1QkFmK0I7a0VBQ1Q7K0RBQ0o7K0JBSVk7Ozs7OztBQUU5Qix1QkFBdUI7QUFDdkIsTUFBTUEsYUFBYTtJQUNqQkMsTUFBTUosS0FBS0ssRUFBRTtBQUNmO0FBTUEsTUFBTUMsZ0JBQW1DO0lBQ3ZDQyxJQUFJO0lBQ0pDLE1BQU07SUFDTkMsYUFBYTtJQUNiQyxVQUFVO0lBQ1ZDLFdBQVcsSUFBSUMsS0FBSztJQUNwQkMsYUFBYTtBQUNmO0FBRUFDLFNBQVMsMkJBQTJCO0lBQ2xDLE1BQU1DLGFBQWFmLEtBQUtLLEVBQUU7SUFDMUIsTUFBTVcsZUFBZWhCLEtBQUtLLEVBQUU7SUFFNUJZLFdBQVc7UUFD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