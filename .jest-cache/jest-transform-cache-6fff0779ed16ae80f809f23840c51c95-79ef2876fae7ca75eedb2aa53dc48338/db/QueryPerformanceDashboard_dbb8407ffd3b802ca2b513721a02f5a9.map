{"version":3,"names":["cov_1zsxeevgl8","actualCoverage","s","QueryPerformanceDashboard","f","default","_default","useSimpleQueryMetrics","queryClient","_reactquery","useQueryClient","metrics","setMetrics","_react","useState","total","loading","error","success","stale","useEffect","process","env","NODE_ENV","b","updateMetrics","queries","getQueryCache","getAll","length","filter","q","state","status","isStale","interval","setInterval","clearInterval","handleClearCache","clear","handleInvalidateAll","invalidateQueries","_jsxruntime","jsxs","style","fontFamily","fontSize","padding","backgroundColor","borderRadius","border","jsx","margin","display","gap","flexWrap","marginBottom","color","onClick","cursor"],"sources":["/Users/zweigen/Sites/daten-see-v2/src/components/dev/QueryPerformanceDashboard.tsx"],"sourcesContent":["/**\n * Simple Query Performance Dashboard\n * Lightweight monitoring for TanStack Query\n */\n\n'use client';\n\nimport { useQueryClient } from '@tanstack/react-query';\nimport React from 'react';\n\ninterface QueryMetrics {\n  total: number;\n  loading: number;\n  error: number;\n  success: number;\n  stale: number;\n}\n\nfunction useSimpleQueryMetrics(): QueryMetrics {\n  const queryClient = useQueryClient();\n  const [metrics, setMetrics] = React.useState<QueryMetrics>({\n    total: 0,\n    loading: 0,\n    error: 0,\n    success: 0,\n    stale: 0,\n  });\n\n  React.useEffect(() => {\n    if (process.env.NODE_ENV !== 'development') return;\n\n    const updateMetrics = (): void => {\n      const queries = queryClient.getQueryCache().getAll();\n      setMetrics({\n        total: queries.length,\n        loading: queries.filter(q => q.state.status === 'pending').length,\n        error: queries.filter(q => q.state.status === 'error').length,\n        success: queries.filter(q => q.state.status === 'success').length,\n        stale: queries.filter(q => q.isStale()).length,\n      });\n    };\n\n    updateMetrics();\n    const interval = setInterval(updateMetrics, 2000);\n    return (): void => {\n      clearInterval(interval);\n    };\n  }, [queryClient]);\n\n  return metrics;\n}\n\nexport function QueryPerformanceDashboard(): React.ReactElement | null {\n  const metrics = useSimpleQueryMetrics();\n  const queryClient = useQueryClient();\n\n  if (process.env.NODE_ENV !== 'development') {\n    return null;\n  }\n\n  const handleClearCache = (): void => {\n    queryClient.clear();\n  };\n\n  const handleInvalidateAll = (): void => {\n    queryClient.invalidateQueries();\n  };\n\n  return (\n    <div style={{\n      fontFamily: 'monospace',\n      fontSize: '12px',\n      padding: '12px',\n      backgroundColor: '#f8f9fa',\n      borderRadius: '6px',\n      border: '1px solid #e9ecef',\n    }}>\n      <h4 style={{ margin: '0 0 12px 0', fontSize: '14px' }}>\n        üîç Query Performance Monitor\n      </h4>\n      \n      <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap', marginBottom: '12px' }}>\n        <span>Total: <strong>{metrics.total}</strong></span>\n        <span style={{ color: '#f59e0b' }}>Loading: <strong>{metrics.loading}</strong></span>\n        <span style={{ color: '#dc2626' }}>Errors: <strong>{metrics.error}</strong></span>\n        <span style={{ color: '#059669' }}>Success: <strong>{metrics.success}</strong></span>\n        <span style={{ color: '#7c3aed' }}>Stale: <strong>{metrics.stale}</strong></span>\n      </div>\n\n      <div style={{ display: 'flex', gap: '8px' }}>\n        <button\n          onClick={handleClearCache}\n          style={{\n            backgroundColor: '#dc2626',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            padding: '4px 8px',\n            fontSize: '10px',\n            cursor: 'pointer',\n          }}\n        >\n          Clear Cache\n        </button>\n        <button\n          onClick={handleInvalidateAll}\n          style={{\n            backgroundColor: '#f59e0b',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            padding: '4px 8px',\n            fontSize: '10px',\n            cursor: 'pointer',\n          }}\n        >\n          Invalidate All\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default QueryPerformanceDashboard;"],"mappings":"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","ignoreList":[]}