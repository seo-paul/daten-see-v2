{"version":3,"names":["AuthDemoPage","cov_q8t8ttlsu","f","user","isAuthenticated","isLoading","logout","getAccessToken","s","_AuthContext","useAuth","b","_jsxruntime","jsx","className","jsxs","_LoginForm","LoginForm","onSuccess","id","name","email","role","substring","onClick","token","navigator","clipboard","writeText","alert","process","env","NODE_ENV"],"sources":["/Users/zweigen/Sites/daten-see-v2/src/app/auth-demo/page.tsx"],"sourcesContent":["'use client';\n\nimport { LoginForm } from '@/components/auth/LoginForm';\nimport { useAuth } from '@/contexts/AuthContext';\n\n/**\n * Authentication Demo Page\n * Demonstrates the complete authentication flow\n */\nexport default function AuthDemoPage(): React.ReactElement {\n  const { user, isAuthenticated, isLoading, logout, getAccessToken } = useAuth();\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-[#3d3d3d]/70\">Loading authentication...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen bg-[#FEFCF9] flex items-center justify-center p-4\">\n        <div className=\"max-w-md w-full\">\n          <div className=\"text-center mb-8\">\n            <h1 className=\"text-3xl font-bold text-[#3d3d3d] mb-2\">Authentication Demo</h1>\n            <p className=\"text-[#3d3d3d]/70\">Testing the Modern Stack Authentication</p>\n          </div>\n          \n          <LoginForm onSuccess={() => {\n            // Login successful - redirecting...\n          }} />\n        </div>\n      </div>\n    );\n  }\n\n  // Authenticated user view\n  return (\n    <div className=\"min-h-screen bg-[#FEFCF9]\">\n      <div className=\"max-w-4xl mx-auto p-6\">\n        <div className=\"bg-[#FDF9F3] rounded-lg shadow-md p-6 mb-6\">\n          <h1 className=\"text-2xl font-bold text-[#3d3d3d] mb-4\">Authentication Success! üéâ</h1>\n          \n          <div className=\"grid md:grid-cols-2 gap-6\">\n            {/* User Info */}\n            <div>\n              <h2 className=\"text-lg font-semibold text-[#3d3d3d] mb-3\">User Information</h2>\n              <div className=\"space-y-2\">\n                <p><strong>ID:</strong> {user?.id}</p>\n                <p><strong>Name:</strong> {user?.name}</p>\n                <p><strong>Email:</strong> {user?.email}</p>\n                <p><strong>Role:</strong> <span className=\"px-2 py-1 bg-[#F9F2E7] text-[#3d3d3d] rounded text-sm\">{user?.role}</span></p>\n              </div>\n            </div>\n\n            {/* Auth Status */}\n            <div>\n              <h2 className=\"text-lg font-semibold text-[#3d3d3d] mb-3\">Authentication Status</h2>\n              <div className=\"space-y-2\">\n                <p><strong>Status:</strong> <span className=\"text-green-600\">‚úÖ Authenticated</span></p>\n                <p><strong>Token:</strong> <span className=\"text-xs text-[#3d3d3d]/60\">{getAccessToken()?.substring(0, 20)}...</span></p>\n                <p><strong>Loading:</strong> {isLoading ? '‚è≥ Loading' : '‚úÖ Ready'}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mt-6 pt-6 border-t border-[#E6D7B8]\">\n            <h2 className=\"text-lg font-semibold text-[#3d3d3d] mb-3\">Actions</h2>\n            <div className=\"flex space-x-4\">\n              <button\n                onClick={logout}\n                className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n              >\n                Logout\n              </button>\n              \n              <button\n                onClick={() => {\n                  const token = getAccessToken();\n                  if (token) {\n                    navigator.clipboard.writeText(token);\n                    alert('Token copied to clipboard!');\n                  }\n                }}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\"\n              >\n                Copy Token\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Development Info */}\n        {process.env.NODE_ENV === 'development' && (\n          <div className=\"bg-[#FBF5ED] border border-blue-200 rounded-lg p-4\">\n            <h3 className=\"text-lg font-semibold text-[#3d3d3d] mb-2\">üîß Development Info</h3>\n            <ul className=\"text-sm text-blue-700 space-y-1\">\n              <li>‚Ä¢ Authentication uses React Context (no Zustand)</li>\n              <li>‚Ä¢ Token management with localStorage</li>\n              <li>‚Ä¢ TanStack Query mutations for login/logout</li>\n              <li>‚Ä¢ Auto token refresh every 5 minutes</li>\n              <li>‚Ä¢ Mock API responses for development</li>\n            </ul>\n            \n            <div className=\"mt-4 p-3 bg-[#FDF9F3] rounded border\">\n              <h4 className=\"font-semibold text-[#3d3d3d] mb-2\">üîç Check DevTools:</h4>\n              <ul className=\"text-xs text-blue-600 space-y-1\">\n                <li>‚Ä¢ F12 ‚Üí Application ‚Üí Local Storage ‚Üí auth tokens</li>\n                <li>‚Ä¢ F12 ‚Üí React Query tab ‚Üí mutations & queries</li>\n                <li>‚Ä¢ Console ‚Üí auth-related logs</li>\n              </ul>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}