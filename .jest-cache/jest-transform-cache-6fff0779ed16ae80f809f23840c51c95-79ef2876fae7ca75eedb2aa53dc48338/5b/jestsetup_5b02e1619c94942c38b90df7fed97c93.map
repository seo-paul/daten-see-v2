{"version":3,"sources":["/Users/zweigen/Sites/daten-see-v2/jest.setup.js"],"sourcesContent":["import '@testing-library/jest-dom';\n\n// Ensure NODE_ENV is set to 'test' during test runs\nprocess.env.NODE_ENV = 'test';\n\n// Mock window.matchMedia for testing\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: jest.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: jest.fn(),\n    removeListener: jest.fn(),\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  })),\n});\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = class IntersectionObserver {\n  constructor() {}\n  observe() {}\n  unobserve() {}\n  disconnect() {}\n};\n\n// Mock ResizeObserver\nglobal.ResizeObserver = class ResizeObserver {\n  constructor() {}\n  observe() {}\n  unobserve() {}\n  disconnect() {}\n};\n\n// Mock Sentry during tests\njest.mock('@sentry/nextjs', () => ({\n  captureException: jest.fn(),\n  captureMessage: jest.fn(),\n  withScope: jest.fn((callback) => callback({\n    setUser: jest.fn(),\n    setTag: jest.fn(),\n    setContext: jest.fn(),\n  })),\n}));\n\n// Mock Pino logger during tests (conditional mock)\ntry {\n  require.resolve('../src/lib/monitoring/logger.config');\n  jest.mock('@/lib/monitoring/logger.config', () => ({\n    appLogger: {\n      debug: jest.fn(),\n      info: jest.fn(),\n      warn: jest.fn(),\n      error: jest.fn(),\n    },\n  }));\n} catch {\n  // File doesn't exist yet, skip mock\n}\n\n// Mock Next.js router\njest.mock('next/router', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    back: jest.fn(),\n    pathname: '/',\n    query: {},\n    asPath: '/',\n  }),\n}));\n\n// Mock Next.js navigation (App Router)\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    back: jest.fn(),\n    forward: jest.fn(),\n    refresh: jest.fn(),\n  }),\n  usePathname: () => '/',\n  useSearchParams: () => new URLSearchParams(),\n}));\n\n// MSW setup removed - was causing import errors after cleanup"],"names":["jest","mock","captureException","fn","captureMessage","withScope","callback","setUser","setTag","setContext","useRouter","push","replace","back","pathname","query","asPath","forward","refresh","usePathname","useSearchParams","URLSearchParams","process","env","NODE_ENV","Object","defineProperty","window","writable","value","mockImplementation","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","global","IntersectionObserver","observe","unobserve","disconnect","ResizeObserver","appLogger","debug","info","warn","error","require","resolve"],"mappings":";AAoCA,2BAA2B;AAC3BA,KAAKC,IAAI,CAAC,kBAAkB,IAAO,CAAA;QACjCC,kBAAkBF,KAAKG,EAAE;QACzBC,gBAAgBJ,KAAKG,EAAE;QACvBE,WAAWL,KAAKG,EAAE,CAAC,CAACG,WAAaA,SAAS;gBACxCC,SAASP,KAAKG,EAAE;gBAChBK,QAAQR,KAAKG,EAAE;gBACfM,YAAYT,KAAKG,EAAE;YACrB;IACF,CAAA;AAiBA,sBAAsB;AACtBH,KAAKC,IAAI,CAAC,eAAe,IAAO,CAAA;QAC9BS,WAAW,IAAO,CAAA;gBAChBC,MAAMX,KAAKG,EAAE;gBACbS,SAASZ,KAAKG,EAAE;gBAChBU,MAAMb,KAAKG,EAAE;gBACbW,UAAU;gBACVC,OAAO,CAAC;gBACRC,QAAQ;YACV,CAAA;IACF,CAAA;AAEA,uCAAuC;AACvChB,KAAKC,IAAI,CAAC,mBAAmB,IAAO,CAAA;QAClCS,WAAW,IAAO,CAAA;gBAChBC,MAAMX,KAAKG,EAAE;gBACbS,SAASZ,KAAKG,EAAE;gBAChBU,MAAMb,KAAKG,EAAE;gBACbc,SAASjB,KAAKG,EAAE;gBAChBe,SAASlB,KAAKG,EAAE;YAClB,CAAA;QACAgB,aAAa,IAAM;QACnBC,iBAAiB,IAAM,IAAIC;IAC7B,CAAA,IAEA,8DAA8D;;;;QAvFvD;AAEP,oDAAoD;AACpDC,QAAQC,GAAG,CAACC,QAAQ,GAAG;AAEvB,qCAAqC;AACrCC,OAAOC,cAAc,CAACC,QAAQ,cAAc;IAC1CC,UAAU;IACVC,OAAO7B,KAAKG,EAAE,GAAG2B,kBAAkB,CAACf,CAAAA,QAAU,CAAA;YAC5CgB,SAAS;YACTC,OAAOjB;YACPkB,UAAU;YACVC,aAAalC,KAAKG,EAAE;YACpBgC,gBAAgBnC,KAAKG,EAAE;YACvBiC,kBAAkBpC,KAAKG,EAAE;YACzBkC,qBAAqBrC,KAAKG,EAAE;YAC5BmC,eAAetC,KAAKG,EAAE;QACxB,CAAA;AACF;AAEA,4BAA4B;AAC5BoC,OAAOC,oBAAoB,GAAG,MAAMA;IAClC,aAAc,CAAC;IACfC,UAAU,CAAC;IACXC,YAAY,CAAC;IACbC,aAAa,CAAC;AAChB;AAEA,sBAAsB;AACtBJ,OAAOK,cAAc,GAAG,MAAMA;IAC5B,aAAc,CAAC;IACfH,UAAU,CAAC;IACXC,YAAY,CAAC;IACbC,aAAa,CAAC;AAChB;AAaA,mDAAmD;AACnD,IAAI;IAEF3C,KAAKC,IAAI,CAAC,kCAAkC,IAAO,CAAA;YACjD4C,WAAW;gBACTC,OAAO9C,KAAKG,EAAE;gBACd4C,MAAM/C,KAAKG,EAAE;gBACb6C,MAAMhD,KAAKG,EAAE;gBACb8C,OAAOjD,KAAKG,EAAE;YAChB;QACF,CAAA;IARA+C,QAAQC,OAAO,CAAC;AASlB,EAAE,OAAM;AACN,oCAAoC;AACtC"}