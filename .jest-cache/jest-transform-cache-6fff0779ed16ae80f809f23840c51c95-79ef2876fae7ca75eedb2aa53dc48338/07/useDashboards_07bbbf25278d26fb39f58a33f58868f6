e6bccb592ef960dc6f224570d57691a4
/**
 * Dashboard Management Hooks
 * TanStack Query hooks for dashboard operations
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get useCreateDashboard () {
        return useCreateDashboard;
    },
    get useDashboard () {
        return useDashboard;
    },
    get useDashboards () {
        return useDashboards;
    },
    get useDeleteDashboard () {
        return useDeleteDashboard;
    },
    get useUpdateDashboard () {
        return useUpdateDashboard;
    }
});
const _reactquery = require("@tanstack/react-query");
const _dashboard = require("../lib/api/dashboard");
const _config = require("../lib/tanstack-query/config");
const _types = require("../types");
function useDashboards() {
    return (0, _reactquery.useQuery)({
        ..._config.createQueryOptions.dashboard(),
        queryKey: _types.apiQueryKeys.dashboards,
        queryFn: ()=>_dashboard.dashboardApi.getDashboards()
    });
}
function useDashboard(dashboardId) {
    return (0, _reactquery.useQuery)({
        ..._config.createQueryOptions.dashboard(dashboardId),
        queryKey: _types.apiQueryKeys.dashboard(dashboardId),
        queryFn: ()=>_dashboard.dashboardApi.getDashboard(dashboardId),
        enabled: !!dashboardId
    });
}
function useCreateDashboard() {
    const queryClient = (0, _reactquery.useQueryClient)();
    return (0, _reactquery.useMutation)({
        mutationFn: _dashboard.dashboardApi.createDashboard,
        onSuccess: ()=>{
            // Invalidate and refetch dashboards
            queryClient.invalidateQueries({
                queryKey: _types.apiQueryKeys.dashboards
            });
        }
    });
}
function useUpdateDashboard(dashboardId) {
    const queryClient = (0, _reactquery.useQueryClient)();
    return (0, _reactquery.useMutation)({
        mutationFn: (data)=>_dashboard.dashboardApi.updateDashboard(dashboardId, data),
        onSuccess: ()=>{
            // Invalidate specific dashboard and list
            queryClient.invalidateQueries({
                queryKey: _types.apiQueryKeys.dashboard(dashboardId)
            });
            queryClient.invalidateQueries({
                queryKey: _types.apiQueryKeys.dashboards
            });
        }
    });
}
function useDeleteDashboard() {
    const queryClient = (0, _reactquery.useQueryClient)();
    return (0, _reactquery.useMutation)({
        mutationFn: (dashboardId)=>_dashboard.dashboardApi.deleteDashboard(dashboardId),
        onSuccess: ()=>{
            // Invalidate dashboards list
            queryClient.invalidateQueries({
                queryKey: _types.apiQueryKeys.dashboards
            });
        }
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy96d2VpZ2VuL1NpdGVzL2RhdGVuLXNlZS12Mi9zcmMvaG9va3MvdXNlRGFzaGJvYXJkcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIERhc2hib2FyZCBNYW5hZ2VtZW50IEhvb2tzXG4gKiBUYW5TdGFjayBRdWVyeSBob29rcyBmb3IgZGFzaGJvYXJkIG9wZXJhdGlvbnNcbiAqL1xuXG5pbXBvcnQgeyB1c2VRdWVyeSwgdXNlTXV0YXRpb24sIHVzZVF1ZXJ5Q2xpZW50IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcblxuaW1wb3J0IHsgZGFzaGJvYXJkQXBpIH0gZnJvbSAnQC9saWIvYXBpL2Rhc2hib2FyZCc7XG5pbXBvcnQgeyBjcmVhdGVRdWVyeU9wdGlvbnMgfSBmcm9tICdAL2xpYi90YW5zdGFjay1xdWVyeS9jb25maWcnO1xuaW1wb3J0IHR5cGUgeyBVcGRhdGVEYXNoYm9hcmRSZXF1ZXN0IH0gZnJvbSAnQC90eXBlcy9kYXNoYm9hcmQudHlwZXMnO1xuaW1wb3J0IHsgYXBpUXVlcnlLZXlzIH0gZnJvbSAnQC90eXBlcyc7XG5cbi8qKlxuICogSG9vayB0byBmZXRjaCBhbGwgZGFzaGJvYXJkc1xuICogSW50ZWdyYXRlcyBUYW5TdGFjayBRdWVyeSB3aXRoIFp1c3RhbmQgU3RvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZURhc2hib2FyZHMoKSB7XG4gIHJldHVybiB1c2VRdWVyeSh7XG4gICAgLi4uY3JlYXRlUXVlcnlPcHRpb25zLmRhc2hib2FyZCgpLFxuICAgIHF1ZXJ5S2V5OiBhcGlRdWVyeUtleXMuZGFzaGJvYXJkcyxcbiAgICBxdWVyeUZuOiAoKSA9PiBkYXNoYm9hcmRBcGkuZ2V0RGFzaGJvYXJkcygpLFxuICB9KTtcbn1cblxuLyoqXG4gKiBIb29rIHRvIGZldGNoIHNpbmdsZSBkYXNoYm9hcmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZURhc2hib2FyZChkYXNoYm9hcmRJZDogc3RyaW5nKSB7XG4gIHJldHVybiB1c2VRdWVyeSh7XG4gICAgLi4uY3JlYXRlUXVlcnlPcHRpb25zLmRhc2hib2FyZChkYXNoYm9hcmRJZCksXG4gICAgcXVlcnlLZXk6IGFwaVF1ZXJ5S2V5cy5kYXNoYm9hcmQoZGFzaGJvYXJkSWQpLFxuICAgIHF1ZXJ5Rm46ICgpID0+IGRhc2hib2FyZEFwaS5nZXREYXNoYm9hcmQoZGFzaGJvYXJkSWQpLFxuICAgIGVuYWJsZWQ6ICEhZGFzaGJvYXJkSWQsXG4gIH0pO1xufVxuXG4vKipcbiAqIEhvb2sgdG8gY3JlYXRlIGRhc2hib2FyZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQ3JlYXRlRGFzaGJvYXJkKCkge1xuICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KCk7XG5cbiAgcmV0dXJuIHVzZU11dGF0aW9uKHtcbiAgICBtdXRhdGlvbkZuOiBkYXNoYm9hcmRBcGkuY3JlYXRlRGFzaGJvYXJkLFxuICAgIG9uU3VjY2VzczogKCkgPT4ge1xuICAgICAgLy8gSW52YWxpZGF0ZSBhbmQgcmVmZXRjaCBkYXNoYm9hcmRzXG4gICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IHF1ZXJ5S2V5OiBhcGlRdWVyeUtleXMuZGFzaGJvYXJkcyB9KTtcbiAgICB9LFxuICB9KTtcbn1cblxuLyoqXG4gKiBIb29rIHRvIHVwZGF0ZSBkYXNoYm9hcmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVVwZGF0ZURhc2hib2FyZChkYXNoYm9hcmRJZDogc3RyaW5nKSB7XG4gIGNvbnN0IHF1ZXJ5Q2xpZW50ID0gdXNlUXVlcnlDbGllbnQoKTtcblxuICByZXR1cm4gdXNlTXV0YXRpb24oe1xuICAgIG11dGF0aW9uRm46IChkYXRhOiBVcGRhdGVEYXNoYm9hcmRSZXF1ZXN0KSA9PiBkYXNoYm9hcmRBcGkudXBkYXRlRGFzaGJvYXJkKGRhc2hib2FyZElkLCBkYXRhKSxcbiAgICBvblN1Y2Nlc3M6ICgpID0+IHtcbiAgICAgIC8vIEludmFsaWRhdGUgc3BlY2lmaWMgZGFzaGJvYXJkIGFuZCBsaXN0XG4gICAgICBxdWVyeUNsaWVudC5pbnZhbGlkYXRlUXVlcmllcyh7IHF1ZXJ5S2V5OiBhcGlRdWVyeUtleXMuZGFzaGJvYXJkKGRhc2hib2FyZElkKSB9KTtcbiAgICAgIHF1ZXJ5Q2xpZW50LmludmFsaWRhdGVRdWVyaWVzKHsgcXVlcnlLZXk6IGFwaVF1ZXJ5S2V5cy5kYXNoYm9hcmRzIH0pO1xuICAgIH0sXG4gIH0pO1xufVxuXG4vKipcbiAqIEhvb2sgdG8gZGVsZXRlIGRhc2hib2FyZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlRGVsZXRlRGFzaGJvYXJkKCkge1xuICBjb25zdCBxdWVyeUNsaWVudCA9IHVzZVF1ZXJ5Q2xpZW50KCk7XG5cbiAgcmV0dXJuIHVzZU11dGF0aW9uKHtcbiAgICBtdXRhdGlvbkZuOiAoZGFzaGJvYXJkSWQ6IHN0cmluZykgPT4gZGFzaGJvYXJkQXBpLmRlbGV0ZURhc2hib2FyZChkYXNoYm9hcmRJZCksXG4gICAgb25TdWNjZXNzOiAoKSA9PiB7XG4gICAgICAvLyBJbnZhbGlkYXRlIGRhc2hib2FyZHMgbGlzdFxuICAgICAgcXVlcnlDbGllbnQuaW52YWxpZGF0ZVF1ZXJpZXMoeyBxdWVyeUtleTogYXBpUXVlcnlLZXlzLmRhc2hib2FyZHMgfSk7XG4gICAgfSxcbiAgfSk7XG59Il0sIm5hbWVzIjpbInVzZUNyZWF0ZURhc2hib2FyZCIsInVzZURhc2hib2FyZCIsInVzZURhc2hib2FyZHMiLCJ1c2VEZWxldGVEYXNoYm9hcmQiLCJ1c2VVcGRhdGVEYXNoYm9hcmQiLCJ1c2VRdWVyeSIsImNyZWF0ZVF1ZXJ5T3B0aW9ucyIsImRhc2hib2FyZCIsInF1ZXJ5S2V5IiwiYXBpUXVlcnlLZXlzIiwiZGFzaGJvYXJkcyIsInF1ZXJ5Rm4iLCJkYXNoYm9hcmRBcGkiLCJnZXREYXNoYm9hcmRzIiwiZGFzaGJvYXJkSWQiLCJnZXREYXNoYm9hcmQiLCJlbmFibGVkIiwicXVlcnlDbGllbnQiLCJ1c2VRdWVyeUNsaWVudCIsInVzZU11dGF0aW9uIiwibXV0YXRpb25GbiIsImNyZWF0ZURhc2hib2FyZCIsIm9uU3VjY2VzcyIsImludmFsaWRhdGVRdWVyaWVzIiwiZGF0YSIsInVwZGF0ZURhc2hib2FyZCIsImRlbGV0ZURhc2hib2FyZCJdLCJtYXBwaW5ncyI6IkFBQUE7OztDQUdDOzs7Ozs7Ozs7OztRQW9DZUE7ZUFBQUE7O1FBWkFDO2VBQUFBOztRQVhBQztlQUFBQTs7UUFzREFDO2VBQUFBOztRQWhCQUM7ZUFBQUE7Ozs0QkFqRHNDOzJCQUV6Qjt3QkFDTTt1QkFFTjtBQU10QixTQUFTRjtJQUNkLE9BQU9HLElBQUFBLG9CQUFRLEVBQUM7UUFDZCxHQUFHQywwQkFBa0IsQ0FBQ0MsU0FBUyxFQUFFO1FBQ2pDQyxVQUFVQyxtQkFBWSxDQUFDQyxVQUFVO1FBQ2pDQyxTQUFTLElBQU1DLHVCQUFZLENBQUNDLGFBQWE7SUFDM0M7QUFDRjtBQUtPLFNBQVNaLGFBQWFhLFdBQW1CO0lBQzlDLE9BQU9ULElBQUFBLG9CQUFRLEVBQUM7UUFDZCxHQUFHQywwQkFBa0IsQ0FBQ0MsU0FBUyxDQUFDTyxZQUFZO1FBQzVDTixVQUFVQyxtQkFBWSxDQUFDRixTQUFTLENBQUNPO1FBQ2pDSCxTQUFTLElBQU1DLHVCQUFZLENBQUNHLFlBQVksQ0FBQ0Q7UUFDekNFLFNBQVMsQ0FBQyxDQUFDRjtJQUNiO0FBQ0Y7QUFLTyxTQUFTZDtJQUNkLE1BQU1pQixjQUFjQyxJQUFBQSwwQkFBYztJQUVsQyxPQUFPQyxJQUFBQSx1QkFBVyxFQUFDO1FBQ2pCQyxZQUFZUix1QkFBWSxDQUFDUyxlQUFlO1FBQ3hDQyxXQUFXO1lBQ1Qsb0NBQW9DO1lBQ3BDTCxZQUFZTSxpQkFBaUIsQ0FBQztnQkFBRWYsVUFBVUMsbUJBQVksQ0FBQ0MsVUFBVTtZQUFDO1FBQ3BFO0lBQ0Y7QUFDRjtBQUtPLFNBQVNOLG1CQUFtQlUsV0FBbUI7SUFDcEQsTUFBTUcsY0FBY0MsSUFBQUEsMEJBQWM7SUFFbEMsT0FBT0MsSUFBQUEsdUJBQVcsRUFBQztRQUNqQkMsWUFBWSxDQUFDSSxPQUFpQ1osdUJBQVksQ0FBQ2EsZUFBZSxDQUFDWCxhQUFhVTtRQUN4RkYsV0FBVztZQUNULHlDQUF5QztZQUN6Q0wsWUFBWU0saUJBQWlCLENBQUM7Z0JBQUVmLFVBQVVDLG1CQUFZLENBQUNGLFNBQVMsQ0FBQ087WUFBYTtZQUM5RUcsWUFBWU0saUJBQWlCLENBQUM7Z0JBQUVmLFVBQVVDLG1CQUFZLENBQUNDLFVBQVU7WUFBQztRQUNwRTtJQUNGO0FBQ0Y7QUFLTyxTQUFTUDtJQUNkLE1BQU1jLGNBQWNDLElBQUFBLDBCQUFjO0lBRWxDLE9BQU9DLElBQUFBLHVCQUFXLEVBQUM7UUFDakJDLFlBQVksQ0FBQ04sY0FBd0JGLHVCQUFZLENBQUNjLGVBQWUsQ0FBQ1o7UUFDbEVRLFdBQVc7WUFDVCw2QkFBNkI7WUFDN0JMLFlBQVlNLGlCQUFpQixDQUFDO2dCQUFFZixVQUFVQyxtQkFBWSxDQUFDQyxVQUFVO1lBQUM7UUFDcEU7SUFDRjtBQUNGIn0=