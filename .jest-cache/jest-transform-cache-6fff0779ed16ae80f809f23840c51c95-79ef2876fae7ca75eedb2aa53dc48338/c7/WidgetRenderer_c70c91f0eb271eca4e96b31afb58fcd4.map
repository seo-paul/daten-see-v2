{"version":3,"names":["cov_144nlc6l48","actualCoverage","s","WidgetRenderer","f","createDefaultWidget","widget","isEditMode","onDelete","_jsxruntime","jsxs","className","b","jsx","_lucidereact","Move3D","title","onClick","e","preventDefault","stopPropagation","X","WidgetContent","mockLineData","labels","datasets","label","data","mockBarData","mockPieData","type","_charts","DashboardLineChart","config","height","DashboardBarChart","DashboardPieChart","DashboardKPICard","metric","value","previousValue","unit","trend","content","defaultConfigs","line","showGrid","showLegend","bar","horizontal","stacked","pie","doughnut","kpi","text"],"sources":["/Users/zweigen/Sites/daten-see-v2/src/components/dashboard/WidgetRenderer.tsx"],"sourcesContent":["'use client';\n\nimport { X, Move3D } from 'lucide-react';\n\nimport { \n  DashboardLineChart, \n  DashboardBarChart, \n  DashboardPieChart,\n  DashboardKPICard,\n  type SimpleChartData,\n} from '@/components/charts';\nimport type { DashboardWidget } from './DashboardCanvas';\n\n/**\n * Widget Renderer Props\n */\ninterface WidgetRendererProps {\n  widget: DashboardWidget;\n  isEditMode: boolean;\n  onEdit?: () => void;\n  onDelete?: () => void;\n  onDuplicate?: () => void;\n}\n\n/**\n * Widget Renderer Component\n * Renders the actual chart/content based on widget type\n */\nexport function WidgetRenderer({\n  widget,\n  isEditMode,\n  onDelete,\n}: WidgetRendererProps) {\n\n  return (\n    <div className={`widget-container relative h-full ${isEditMode ? 'widget-edit-mode' : ''}`}>\n      {/* Edit Mode Overlay */}\n      {isEditMode && (\n        <div className=\"absolute inset-0 bg-blue-100/30 border-2 border-blue-300/50 rounded-lg pointer-events-none z-5\" />\n      )}\n      \n      {/* Resize Handle - Only visible in edit mode */}\n      {isEditMode && (\n        <div className=\"absolute bottom-2 right-2 z-20 w-6 h-6 bg-gray-500 hover:bg-gray-600 text-white rounded-sm flex items-center justify-center cursor-se-resize transition-colors shadow-sm\">\n          <Move3D className=\"w-3 h-3\" />\n        </div>\n      )}\n\n      <div className=\"widget-header\">\n        <h3 className=\"text-sm font-medium text-[#3d3d3d] truncate\">\n          {widget.title}\n        </h3>\n        {isEditMode && (\n          <div className=\"widget-toolbar\">\n            <button\n              onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                if (onDelete) {\n                  onDelete();\n                }\n              }}\n              title=\"Widget löschen\"\n              aria-label=\"Widget löschen\"\n              className=\"w-5 h-5 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors shadow-[1px_2px_0px_0px_#DC2626] hover:shadow-none hover:translate-x-[1px] hover:translate-y-[2px] relative z-30 pointer-events-auto\"\n            >\n              <X className=\"w-3 h-3\" />\n            </button>\n          </div>\n        )}\n      </div>\n      <div className=\"widget-body\">\n        <WidgetContent widget={widget} />\n      </div>\n    </div>\n  );\n}\n\n/**\n * Widget Content Component\n * Renders the appropriate chart component based on widget type\n */\nfunction WidgetContent({ widget }: { widget: DashboardWidget }) {\n  // Mock data for demonstration - will be replaced with real data\n  const mockLineData: SimpleChartData = {\n    labels: ['Jan', 'Feb', 'Mär', 'Apr', 'Mai', 'Jun'],\n    datasets: [{\n      label: 'Umsatz 2024',\n      data: [45000, 52000, 48000, 61000, 55000, 67000],\n    }],\n  };\n\n  const mockBarData: SimpleChartData = {\n    labels: ['Q1', 'Q2', 'Q3', 'Q4'],\n    datasets: [{\n      label: '2024',\n      data: [145000, 183000, 203000, 196000],\n    }],\n  };\n\n  const mockPieData: SimpleChartData = {\n    labels: ['Marketing', 'Personal', 'Technologie', 'Büro'],\n    datasets: [{\n      label: 'Ausgaben',\n      data: [35000, 45000, 25000, 15000],\n    }],\n  };\n\n  switch (widget.type) {\n    case 'line':\n      return (\n        <DashboardLineChart\n          data={widget.config.data || mockLineData}\n          title=\"\"\n          height={widget.config.height || 250}\n        />\n      );\n\n    case 'bar':\n      return (\n        <DashboardBarChart\n          data={widget.config.data || mockBarData}\n          title=\"\"\n          height={widget.config.height || 250}\n        />\n      );\n\n    case 'pie':\n      return (\n        <DashboardPieChart\n          data={widget.config.data || mockPieData}\n          title=\"\"\n          height={widget.config.height || 250}\n        />\n      );\n\n    case 'kpi':\n      return (\n        <DashboardKPICard\n          title={widget.config.metric || 'Metrik'}\n          value={widget.config.value || 125000}\n          previousValue={widget.config.previousValue || 118000}\n          unit={widget.config.unit || 'currency'}\n          trend={widget.config.trend || 'up'}\n        />\n      );\n\n    case 'text':\n      return (\n        <div className=\"prose prose-sm max-w-none\">\n          <p className=\"text-[#5d5d5d]\">\n            {widget.config.content || 'Text-Widget Inhalt hier...'}\n          </p>\n        </div>\n      );\n\n    default:\n      return (\n        <div className=\"flex items-center justify-center h-full text-[#5d5d5d]\">\n          <div className=\"text-center\">\n            <div className=\"text-sm\">\n              Unbekannter Widget-Typ: {widget.type}\n            </div>\n          </div>\n        </div>\n      );\n  }\n}\n\n/**\n * Generate a new widget with default configuration\n */\nexport function createDefaultWidget(type: DashboardWidget['type']): Omit<DashboardWidget, 'id'> {\n  const defaultConfigs = {\n    line: {\n      title: 'Liniendiagramm',\n      config: {\n        height: 250,\n        showGrid: true,\n        showLegend: true,\n      },\n    },\n    bar: {\n      title: 'Balkendiagramm',\n      config: {\n        height: 250,\n        horizontal: false,\n        stacked: false,\n      },\n    },\n    pie: {\n      title: 'Kreisdiagramm',\n      config: {\n        height: 250,\n        doughnut: false,\n      },\n    },\n    kpi: {\n      title: 'KPI Metrik',\n      config: {\n        metric: 'Gesamtumsatz',\n        value: 0,\n        unit: 'currency',\n      },\n    },\n    text: {\n      title: 'Text Widget',\n      config: {\n        content: 'Fügen Sie hier Ihren Text ein...',\n      },\n    },\n  };\n\n  return {\n    type,\n    ...defaultConfigs[type],\n  };\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA4KgB;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAA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","ignoreList":[]}